# üî• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

## –ó–∞—á–µ–º Firebase?

Firebase Realtime Database ‚Äî **–±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ** –æ–±–ª–∞—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –æ—Ç Google, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–º–µ–Ω—è–µ—Ç –±—ç–∫–µ–Ω–¥ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –≤—Å–µ–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ —Å–≤–æ–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–æ–ª—É—á–∞—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–º–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç –∑–∞—è–≤–∫–∏ —Å—Ä–∞–∑—É)
- ‚úÖ –•—Ä–∞–Ω–∏—Ç—å –¥–æ 1GB –¥–∞–Ω–Ω—ã—Ö –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å 10GB —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ –º–µ—Å—è—Ü –±–µ—Å–ø–ª–∞—Ç–Ω–æ

## –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç Firebase

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://console.firebase.google.com/
2. –ù–∞–∂–º–∏—Ç–µ **"–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç"** (Add project)
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `alipay-tickets`)
4. –û—Ç–∫–ª—é—á–∏—Ç–µ Google Analytics (–Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞)
5. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç"**

## –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ Realtime Database

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"Realtime Database"**
2. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö"** (Create Database)
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω:
   - `us-central1` (–°–®–ê) - –±—ã—Å—Ç—Ä–µ–µ –¥–ª—è –†–æ—Å—Å–∏–∏
   - `europe-west1` (–ï–≤—Ä–æ–ø–∞) - –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä
4. –†–µ–∂–∏–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: –≤—ã–±–µ—Ä–∏—Ç–µ **"–ù–∞—á–∞—Ç—å –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ"** (Start in test mode)
5. –ù–∞–∂–º–∏—Ç–µ **"–í–∫–ª—é—á–∏—Ç—å"**

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±–∞–∑—É –¥–ª—è –≤—Å–µ—Ö! –ó–∞–º–µ–Ω–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–ü—Ä–∞–≤–∏–ª–∞"** (Rules)
2. –ó–∞–º–µ–Ω–∏—Ç–µ –∫–æ–¥ –Ω–∞:

```json
{
  "rules": {
    "tickets": {
      ".read": true,
      ".write": true,
      "$ticketId": {
        ".validate": "newData.hasChildren(['id', 'sessionId', 'subject', 'status', 'createdAt'])"
      }
    },
    "messages": {
      ".read": true,
      ".write": true,
      "$messageId": {
        ".validate": "newData.hasChildren(['id', 'ticketId', 'senderType', 'message', 'createdAt'])"
      }
    }
  }
}
```

3. –ù–∞–∂–º–∏—Ç–µ **"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å"** (Publish)

## –®–∞–≥ 4: –ü–æ–ª—É—á–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —à–µ—Å—Ç–µ—Ä—ë–Ω–∫—É ‚öôÔ∏è ‚Üí **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞"** (Project Settings)
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **"–í–∞—à–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"**
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É **</>** (Web)
4. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `alipay-web`)
5. –ù–ï –≤–∫–ª—é—á–∞–π—Ç–µ Firebase Hosting
6. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
7. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–±—ä–µ–∫—Ç `firebaseConfig`:

```javascript
const firebaseConfig = {
  apiKey: "AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXX",
  authDomain: "your-project.firebaseapp.com",
  databaseURL: "https://your-project.firebaseio.com",
  projectId: "your-project",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abcdef123456"
};
```

## –®–∞–≥ 5: –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –ø—Ä–æ–µ–∫—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `src/lib/firebase.ts`
2. –ó–∞–º–µ–Ω–∏—Ç–µ –±–ª–æ–∫ `firebaseConfig` –Ω–∞ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ:

```typescript
const firebaseConfig = {
  apiKey: "–í–ê–®_API_KEY",
  authDomain: "–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.firebaseapp.com",
  databaseURL: "https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.firebaseio.com",
  projectId: "–≤–∞—à-–ø—Ä–æ–µ–∫—Ç",
  storageBucket: "–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.appspot.com",
  messagingSenderId: "–í–ê–®_SENDER_ID",
  appId: "–í–ê–®_APP_ID"
};
```

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª

## –®–∞–≥ 6: –°–æ–±–µ—Ä–∏—Ç–µ –∏ —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
npm install
npm run build
```

–ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–∞–ø–∫—É `dist/` –Ω–∞ –ª—é–±–æ–π —Ö–æ—Å—Ç–∏–Ω–≥!

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –î–ª—è –∫–ª–∏–µ–Ω—Ç–∞ (—Ç–µ–ª–µ—Ñ–æ–Ω):
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–∞–π—Ç ‚Üí —Å–æ–∑–¥–∞—ë—Ç –∑–∞—è–≤–∫—É
2. –ó–∞—è–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Firebase
3. –ü–∏—à–µ—Ç –≤ —á–∞—Ç ‚Üí —Å–æ–æ–±—â–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è

### –î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (–∫–æ–º–ø—å—é—Ç–µ—Ä):
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
2. –í–∏–¥–∏—Ç –í–°–ï –∑–∞—è–≤–∫–∏ —Å–æ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
3. –û—Ç–≤–µ—á–∞–µ—Ç ‚Üí –æ—Ç–≤–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —É –∫–ª–∏–µ–Ω—Ç–∞

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:
- ‚ö° **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É
- üåç **–ì–ª–æ–±–∞–ª—å–Ω–∞—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–∂–¥—É –ª—é–±—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- üì± **–û—Ñ–ª–∞–π–Ω** - –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã Firebase

–ï—Å–ª–∏ Firebase –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

1. **Supabase** (https://supabase.com)
   - –ë–µ—Å–ø–ª–∞—Ç–Ω–æ: 500MB –ë–î, 2GB —Ç—Ä–∞—Ñ–∏–∫–∞
   - PostgreSQL –≤–º–µ—Å—Ç–æ NoSQL
   - –ë–æ–ª–µ–µ –≥–∏–±–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã

2. **PocketBase** (https://pocketbase.io)
   - Self-hosted (—Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä)
   - –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π (~15MB)
   - SQLite –±–∞–∑–∞

3. **Appwrite** (https://appwrite.io)
   - Self-hosted –∏–ª–∏ –æ–±–ª–∞–∫–æ
   - –ë–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
   - –¢—Ä–µ–±—É–µ—Ç Docker

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –¢–µ–∫—É—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ (–ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è MVP):
- ‚úÖ –õ—é–±–æ–π –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å
- ‚ö†Ô∏è –ù–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚ö†Ô∏è –ú–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –í–∫–ª—é—á–∏—Ç—å Firebase Authentication
2. –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∑–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
3. –î–æ–±–∞–≤–∏—Ç—å rate limiting
4. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ Firebase Console:
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ**: Realtime Database ‚Üí Usage
- **–¢—Ä–∞—Ñ–∏–∫**: Realtime Database ‚Üí Usage
- **Connections**: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω:
- 1GB —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- 10GB —Ç—Ä–∞—Ñ–∏–∫–∞/–º–µ—Å—è—Ü
- 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `databaseURL` –≤ –∫–æ–Ω—Ñ–∏–≥–µ
3. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) ‚Üí –∏—â–∏—Ç–µ –æ—à–∏–±–∫–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Firebase Console ‚Üí Realtime Database ‚Üí Data
